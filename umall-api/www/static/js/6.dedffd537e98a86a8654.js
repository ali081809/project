webpackJsonp([6],{"+rM8":function(t,e){},"7VsE":function(t,e){},ApQP:function(t,e){},kI4W:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("4YfN"),n=i.n(s),a=i("D/cR"),o=i("fUgm"),r=i("BGi1"),u={components:{},data:function(){return{}},computed:n()({},Object(o.c)({list:"guigeList/list",size:"guigeList/size",total:"guigeList/total"})),methods:n()({},Object(o.b)({requeatguigeList:"guigeList/requestGuigeList",requeatCont:"guigeList/requestCont",changePage:"guigeList/changePage"}),{edit:function(t){this.$emit("edit",t)},cPage:function(t){this.changePage(t),this.requeatguigeList()},del:function(t){var e=this;Object(a.z)({id:t}).then(function(t){200==t.data.code?(Object(r.a)(t.data.msg),e.requeatguigeList(),e.requeatCont()):Object(r.b)(t.data.msg)})}}),mounted:function(){this.requeatguigeList(),this.requeatCont()}},l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,border:""}},[i("el-table-column",{attrs:{prop:"id",label:"规格编号",width:"180"}}),t._v(" "),i("el-table-column",{attrs:{prop:"specsname",label:"规格名称",width:"180"}}),t._v(" "),i("el-table-column",{attrs:{prop:"",label:"规格属性"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.attrs,function(e){return i("el-tag",{key:e},[t._v(t._s(e))])})}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.status?i("el-button",{attrs:{type:"primary"}},[t._v("启用")]):i("el-button",{attrs:{type:"info"}},[t._v("禁用")])]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"primary"},on:{click:function(i){return t.edit(e.row.id)}}},[t._v("编辑")]),t._v(" "),i("del-btn",{on:{comifirm:function(i){return t.del(e.row.id)}}})]}}])})],1),t._v(" "),i("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":t.size,total:t.total},on:{"current-change":t.cPage}})],1)},staticRenderFns:[]};var c=i("C7Lr")(u,l,!1,function(t){i("+rM8")},"data-v-6fc0462a",null).exports,d=i("3cXf"),g=i.n(d),f={props:["info"],components:{},data:function(){return{guigetype:[],guige:"",form:{specsname:"",attrs:"",status:1}}},computed:n()({},Object(o.c)({list:"guigeList/list"})),methods:n()({},Object(o.b)({requeatguigeList:"guigeList/requestGuigeList",requeatCont:"guigeList/requestCont"}),{empty:function(){this.guigetype=[],this.form={specsname:"",attrs:"",status:1}},cancel:function(){this.info.show=!1,this.info.isAdd||this.empty()},addtype:function(){this.guige?(this.guigetype.push(this.guige),this.guige=""):Object(r.b)("规格属性不能为空！")},del:function(t){for(var e=0;e<this.guigetype.length;e++)this.guigetype[e]==t&&this.guigetype.splice(e,1)},add:function(){var t=this;this.form.specsname&&0!=this.guigetype.length?(this.form.attrs=g()(this.guigetype),Object(a.u)(this.form).then(function(e){200==e.data.code?(Object(r.a)(e.data.msg),t.empty(),t.cancel(),t.requeatguigeList(),t.requeatCont()):Object(r.b)(e.data.msg)})):Object(r.b)("规格名称或规格属性不能为空！")},getOneDetail:function(t){var e=this;Object(a.x)({id:t}).then(function(t){e.form=t.data.list[0],e.guigetype=JSON.parse(t.data.list[0].attrs),e.attrs=e.guigetype})},update:function(){var t=this;this.form.specsname&&0!=this.guigetype.length?(this.form.attrs=g()(this.guigetype),Object(a.y)(this.form).then(function(e){200==e.data.code?(Object(r.a)(e.data.msg),t.empty(),t.cancel(),t.requeatguigeList()):Object(r.b)(e.data.msg)})):Object(r.b)("规格名称或规格属性不能为空！")}}),mounted:function(){}},p={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-dialog",{attrs:{title:t.info.title,visible:t.info.show},on:{"update:visible":function(e){return t.$set(t.info,"show",e)}}},[i("el-form",{attrs:{model:t.form}},[i("el-form-item",{attrs:{label:"规格名称","label-width":"80px"}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.specsname,callback:function(e){t.$set(t.form,"specsname",e)},expression:"form.specsname"}})],1),t._v(" "),i("el-form-item",{staticClass:"guige_type",attrs:{label:"规格属性","label-width":"80px"}},[i("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.guige,callback:function(e){t.guige=e},expression:"guige"}}),t._v(" "),i("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:t.addtype}},[t._v("新增规格属性")])],1),t._v(" "),t._l(t.guigetype,function(e){return i("el-form-item",{key:e,staticClass:"guige_type",attrs:{label:"规格属性","label-width":"80px"}},[[i("el-input",{staticClass:"input",attrs:{label:e,value:e}}),t._v(" "),i("el-button",{staticClass:"btn",attrs:{type:"danger"},on:{click:function(i){return t.del(e)}}},[t._v("删除")])]],2)}),t._v(" "),i("el-form-item",{attrs:{label:"状态","label-width":"80px"}},[i("el-switch",{attrs:{"active-value":1,"inactive-value":2},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}})],1)],2),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.cancel}},[t._v("取 消")]),t._v(" "),t.info.isAdd?i("el-button",{attrs:{type:"primary"},on:{click:t.add}},[t._v("确 定")]):i("el-button",{attrs:{type:"primary"},on:{click:t.update}},[t._v("修 改")])],1)],1)],1)},staticRenderFns:[]};var h={components:{vList:c,vAdd:i("C7Lr")(f,p,!1,function(t){i("7VsE")},"data-v-11ccd232",null).exports},data:function(){return{info:{show:!1,title:"规格添加",isAdd:!0}}},methods:{add:function(){this.info.show=!0,this.info.title="规格添加",this.info.isAdd=!0},edit:function(t){this.$refs.add.getOneDetail(t),this.info.show=!0,this.info.title="规格编辑",this.info.isAdd=!1}},mounted:function(){}},m={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-button",{attrs:{type:"primary"},on:{click:this.add}},[this._v("添加")]),this._v(" "),e("v-list",{on:{edit:this.edit}}),this._v(" "),e("v-add",{ref:"add",attrs:{info:this.info}})],1)},staticRenderFns:[]};var b=i("C7Lr")(h,m,!1,function(t){i("ApQP")},"data-v-b48907dc",null);e.default=b.exports}});
//# sourceMappingURL=6.dedffd537e98a86a8654.js.map