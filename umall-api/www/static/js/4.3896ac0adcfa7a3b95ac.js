webpackJsonp([4],{"6Qmu":function(t,e){},WWyL:function(t,e){},n1fQ:function(t,e){},xGHU:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("4YfN"),n=i.n(a),o=i("D/cR"),s=i("fUgm"),r=i("BGi1"),l={components:{},data:function(){return{}},computed:n()({},Object(s.c)({list:"menuAdd/list",rold:"roleList/list",admin:"adminList/list",size:"adminList/size",total:"adminList/total"})),methods:n()({},Object(s.b)({requeatList:"menuAdd/requestList",requeatRoleList:"roleList/requestRole",reqAdminList:"adminList/reqAdminList",reqTotal:"adminList/reqTotal",changePage:"adminList/changePage"}),{cPage:function(t){console.log("page:",t),this.changePage(t),this.reqAdminList()},edit:function(t){this.$emit("edit",t)},del:function(t){var e=this;Object(o.g)({uid:t}).then(function(t){200==t.data.code?(Object(r.a)(t.data.msg),e.reqAdminList(),e.reqTotal()):Object(r.b)(t.data.msg)})}}),mounted:function(){this.reqTotal(),this.reqAdminList()}},d={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.admin,border:""}},[i("el-table-column",{attrs:{prop:"id",label:"用户编号",width:"180"}}),t._v(" "),i("el-table-column",{attrs:{prop:"username",label:"用户名",width:"180"}}),t._v(" "),i("el-table-column",{attrs:{prop:"rolename",label:"所属角色"}}),t._v(" "),i("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.status?i("el-button",{attrs:{type:"primary"}},[t._v("启用")]):i("el-button",{attrs:{type:"info"}},[t._v("禁用")])]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"primary"},on:{click:function(i){return t.edit(e.row.uid)}}},[t._v("编辑")]),t._v(" "),i("del-btn",{on:{comifirm:function(i){return t.del(e.row.uid)}}})]}}])})],1),t._v(" "),i("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":t.size,total:t.total},on:{"current-change":t.cPage}})],1)},staticRenderFns:[]};var u=i("C7Lr")(l,d,!1,function(t){i("WWyL")},"data-v-6325ff42",null).exports,c={props:["info"],components:{},data:function(){return{form:{roleid:"",username:"",password:"",status:1}}},computed:n()({},Object(s.c)({list:"menuAdd/list",rold:"roleList/list",admin:"adminList/list"})),methods:n()({},Object(s.b)({requeatList:"menuAdd/requestList",requeatRoleList:"roleList/requestRole",reqAdminList:"adminList/reqAdminList",reqTotal:"adminList/reqTotal"}),{cancel:function(){this.info.show=!1,this.isAdd||this.empty()},empty:function(){this.form={roleid:"",username:"",password:"",status:1}},add:function(){var t=this;Object(o.a)(this.form).then(function(e){200==e.data.code?(Object(r.a)(e.data.msg),t.empty(),t.cancel(),t.reqAdminList(),t.reqTotal()):Object(r.b)(e.data.msg)})},getAdminDetail:function(t){var e=this;Object(o.e)({uid:t}).then(function(t){e.form=t.data.list,t.data.list.password=""})},update:function(){var t=this;Object(o.f)(this.form).then(function(e){200==e.data.code?(Object(r.a)(e.data.msg),t.empty(),t.cancel(),t.reqAdminList()):Object(r.b)(e.data.msg)})}}),mounted:function(){this.requeatRoleList()}},m={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-dialog",{attrs:{title:t.info.title,visible:t.info.show},on:{"update:visible":function(e){return t.$set(t.info,"show",e)}}},[i("el-form",{attrs:{model:t.form}},[i("el-form-item",{attrs:{label:"所属角色","label-width":"80px",rules:[{required:!0}]}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.roleid,callback:function(e){t.$set(t.form,"roleid",e)},expression:"form.roleid"}},t._l(t.rold,function(t){return i("el-option",{key:t.id,attrs:{label:t.rolename,value:t.id}})}),1)],1),t._v(" "),i("el-form-item",{attrs:{label:"用户名","label-width":"80px",rules:[{required:!0}]}},[i("el-input",{attrs:{autocomplete:"off",clearable:""},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"密码","label-width":"80px"}},[i("el-input",{attrs:{autocomplete:"off",clearable:"","show-password":""},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"状态","label-width":"80px"}},[i("el-switch",{attrs:{"active-value":1,"inactive-value":2},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){return t.cancel()}}},[t._v("取 消")]),t._v(" "),t.info.isAdd?i("el-button",{attrs:{type:"primary"},on:{click:t.add}},[t._v("确 定")]):i("el-button",{attrs:{type:"primary"},on:{click:t.update}},[t._v("修 改")])],1)],1)],1)},staticRenderFns:[]};var f={components:{vList:u,vAdd:i("C7Lr")(c,m,!1,function(t){i("n1fQ")},"data-v-551da23a",null).exports},data:function(){return{info:{show:!1,title:"用户添加",isAdd:!0}}},methods:{add:function(){this.info.show=!0,this.info.isAdd=!0,this.info.title="用户添加"},edit:function(t){this.info.show=!0,this.info.title="用户编辑",this.info.isAdd=!1,this.$refs.add.getAdminDetail(t)}},mounted:function(){}},p={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-button",{attrs:{type:"primary"},on:{click:this.add}},[this._v("添加")]),this._v(" "),e("v-list",{on:{edit:this.edit}}),this._v(" "),e("v-add",{ref:"add",attrs:{info:this.info}})],1)},staticRenderFns:[]};var b=i("C7Lr")(f,p,!1,function(t){i("6Qmu")},"data-v-198b8594",null);e.default=b.exports}});
//# sourceMappingURL=4.3896ac0adcfa7a3b95ac.js.map